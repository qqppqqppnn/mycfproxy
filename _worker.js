const _0xfd60e3=_0x524c;(function(_0x2d6a7c,_0x5cc946){const _0x11e4b8=_0x524c,_0x4213e9=_0x2d6a7c();while(!![]){try{const _0x12f80e=parseInt(_0x11e4b8(0x25d))/0x1+-parseInt(_0x11e4b8(0x2bf))/0x2*(parseInt(_0x11e4b8(0x1cd))/0x3)+-parseInt(_0x11e4b8(0x2fb))/0x4+-parseInt(_0x11e4b8(0x24e))/0x5+parseInt(_0x11e4b8(0x259))/0x6+parseInt(_0x11e4b8(0x2d0))/0x7+parseInt(_0x11e4b8(0x2b3))/0x8*(-parseInt(_0x11e4b8(0x1d6))/0x9);if(_0x12f80e===_0x5cc946)break;else _0x4213e9['push'](_0x4213e9['shift']());}catch(_0xb8ca6d){_0x4213e9['push'](_0x4213e9['shift']());}}}(_0x2acf,0x87682));import{connect}from'cloudflare:sockets';let userID=_0xfd60e3(0x2b8),proxyIP='',sub='',subconverter='SUBAPI.fxxk.dedyn.io',subconfig=_0xfd60e3(0x244),subProtocol=_0xfd60e3(0x255),socks5Address='',parsedSocks5Address={},enableSocks=![],fakeUserID,fakeHostName,noTLS=_0xfd60e3(0x28c);const expire=0xf4849500;let proxyIPs,socks5s,go2Socks5s=[_0xfd60e3(0x2b7),_0xfd60e3(0x21d),'*cloudatacdn.com','*.loadshare.org'],addresses=[],addressesapi=[],addressesnotls=[],addressesnotlsapi=[],addressescsv=[],DLS=0x8,FileName=_0xfd60e3(0x1e2),BotToken='',ChatID='',proxyhosts=[],proxyhostsURL=_0xfd60e3(0x1c1),RproxyIP=_0xfd60e3(0x28c),httpsPorts=[_0xfd60e3(0x2a7),_0xfd60e3(0x29c),_0xfd60e3(0x1f6),'2096',_0xfd60e3(0x1fb)],effectiveTime=0x7,updateTime=0x3,userIDLow,userIDTime='';if(!isValidUUID(userID))throw new Error(_0xfd60e3(0x2d1));export default{async 'fetch'(_0x39d67b,_0x151732,_0x4619a9){const _0x23e5f2=_0xfd60e3;try{const _0x43c072=_0x39d67b[_0x23e5f2(0x2c4)][_0x23e5f2(0x2f2)](_0x23e5f2(0x1f1))||_0x23e5f2(0x205),_0x2c0e10=_0x43c072['toLowerCase']();userID=(_0x151732[_0x23e5f2(0x285)]||userID)[_0x23e5f2(0x268)]();const _0x7e92d=new Date();_0x7e92d[_0x23e5f2(0x1de)](0x0,0x0,0x0,0x0);const _0x2424bb=Math[_0x23e5f2(0x2e7)](_0x7e92d['getTime']()/0x3e8),_0x52f60a=await MD5MD5(''+userID+_0x2424bb);fakeUserID=_0x52f60a[_0x23e5f2(0x243)](0x0,0x8)+'-'+_0x52f60a[_0x23e5f2(0x243)](0x8,0xc)+'-'+_0x52f60a[_0x23e5f2(0x243)](0xc,0x10)+'-'+_0x52f60a['slice'](0x10,0x14)+'-'+_0x52f60a[_0x23e5f2(0x243)](0x14),fakeHostName=_0x52f60a['slice'](0x6,0x9)+'.'+_0x52f60a['slice'](0xd,0x13);if(_0x151732['KEY']){const _0x4c36f8=await generateDynamicUUID(_0x151732[_0x23e5f2(0x2ad)]);userID=_0x4c36f8[0x0],userIDLow=_0x4c36f8[0x1],userIDTime=_0x4c36f8[0x2],effectiveTime=_0x151732['TIME']||effectiveTime,updateTime=_0x151732['UPTIME']||updateTime;}proxyIP=_0x151732[_0x23e5f2(0x239)]||proxyIP,proxyIPs=await ADD(proxyIP),proxyIP=proxyIPs[Math['floor'](Math['random']()*proxyIPs[_0x23e5f2(0x2be)])],socks5Address=_0x151732[_0x23e5f2(0x284)]||socks5Address,socks5s=await ADD(socks5Address),socks5Address=socks5s[Math[_0x23e5f2(0x235)](Math['random']()*socks5s[_0x23e5f2(0x2be)])],socks5Address=socks5Address[_0x23e5f2(0x276)]('//')[0x1]||socks5Address;if(_0x151732[_0x23e5f2(0x25c)])httpsPorts=await ADD(_0x151732[_0x23e5f2(0x25c)]);sub=_0x151732[_0x23e5f2(0x221)]||sub,subconverter=_0x151732['SUBAPI']||subconverter;subconverter[_0x23e5f2(0x1b5)](_0x23e5f2(0x236))?(subconverter=subconverter[_0x23e5f2(0x276)]('//')[0x1],subProtocol=_0x23e5f2(0x1e9)):subconverter=subconverter[_0x23e5f2(0x276)]('//')[0x1]||subconverter;subconfig=_0x151732[_0x23e5f2(0x2d5)]||subconfig;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x151732[_0x23e5f2(0x27d)]||_0x23e5f2(0x28c),enableSocks=!![];}catch(_0x153b36){let _0x2ade8=_0x153b36;console[_0x23e5f2(0x203)](_0x2ade8[_0x23e5f2(0x2a6)]()),RproxyIP=_0x151732[_0x23e5f2(0x27d)]||!proxyIP?_0x23e5f2(0x1f4):'false',enableSocks=![];}else RproxyIP=_0x151732['RPROXYIP']||!proxyIP?_0x23e5f2(0x1f4):_0x23e5f2(0x28c);if(_0x151732[_0x23e5f2(0x1bc)])addresses=await ADD(_0x151732['ADD']);if(_0x151732[_0x23e5f2(0x1f8)])addressesapi=await ADD(_0x151732[_0x23e5f2(0x1f8)]);if(_0x151732[_0x23e5f2(0x1be)])addressesnotls=await ADD(_0x151732[_0x23e5f2(0x1be)]);if(_0x151732[_0x23e5f2(0x263)])addressesnotlsapi=await ADD(_0x151732[_0x23e5f2(0x263)]);if(_0x151732[_0x23e5f2(0x1ef)])addressescsv=await ADD(_0x151732['ADDCSV']);DLS=_0x151732[_0x23e5f2(0x27b)]||DLS,BotToken=_0x151732[_0x23e5f2(0x1f9)]||BotToken,ChatID=_0x151732[_0x23e5f2(0x2d3)]||ChatID;if(_0x151732[_0x23e5f2(0x1e4)])go2Socks5s=await ADD(_0x151732[_0x23e5f2(0x1e4)]);const _0x324085=_0x39d67b['headers'][_0x23e5f2(0x2f2)](_0x23e5f2(0x245)),_0x58bf5a=new URL(_0x39d67b[_0x23e5f2(0x222)]);if(_0x58bf5a[_0x23e5f2(0x1b8)][_0x23e5f2(0x29b)](_0x23e5f2(0x26b))&&_0x58bf5a[_0x23e5f2(0x1b8)][_0x23e5f2(0x2f2)](_0x23e5f2(0x26b))!=='')sub=_0x58bf5a[_0x23e5f2(0x1b8)][_0x23e5f2(0x2f2)](_0x23e5f2(0x26b));FileName=_0x151732[_0x23e5f2(0x283)]||FileName;if(_0x58bf5a[_0x23e5f2(0x1b8)]['has'](_0x23e5f2(0x2ec)))noTLS=_0x23e5f2(0x1f4);if(!_0x324085||_0x324085!==_0x23e5f2(0x1e7)){const _0x2a872c=_0x58bf5a[_0x23e5f2(0x2c5)][_0x23e5f2(0x268)]();if(_0x2a872c=='/'){if(_0x151732[_0x23e5f2(0x2f3)])return Response[_0x23e5f2(0x1da)](_0x151732[_0x23e5f2(0x2f3)],0x12e);else{if(_0x151732[_0x23e5f2(0x298)])return await proxyURL(_0x151732[_0x23e5f2(0x298)],_0x58bf5a);else return new Response(JSON[_0x23e5f2(0x210)](_0x39d67b['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':_0x23e5f2(0x227)}});}}else{if(_0x2a872c=='/'+fakeUserID){const _0x4defd6=await getVLESSConfig(userID,_0x39d67b[_0x23e5f2(0x2c4)]['get'](_0x23e5f2(0x29d)),sub,_0x23e5f2(0x2a4),RproxyIP,_0x58bf5a,_0x151732);return new Response(''+_0x4defd6,{'status':0xc8});}else{if(_0x2a872c=='/'+_0x151732['KEY']||_0x2a872c=='/'+userID){await sendMessage(_0x23e5f2(0x260)+FileName,_0x39d67b['headers'][_0x23e5f2(0x2f2)](_0x23e5f2(0x1ee)),'UA:\x20'+_0x43c072+_0x23e5f2(0x294)+_0x58bf5a[_0x23e5f2(0x27e)]+_0x23e5f2(0x281)+(_0x58bf5a[_0x23e5f2(0x2c5)]+_0x58bf5a[_0x23e5f2(0x2f8)])+_0x23e5f2(0x267));const _0x383a3d=await getVLESSConfig(userID,_0x39d67b[_0x23e5f2(0x2c4)][_0x23e5f2(0x2f2)](_0x23e5f2(0x29d)),sub,_0x43c072,RproxyIP,_0x58bf5a,_0x151732),_0x5b7556=Date[_0x23e5f2(0x201)](),_0x61ce08=new Date(_0x5b7556);_0x61ce08[_0x23e5f2(0x1de)](0x0,0x0,0x0,0x0);const _0x447067=Math['floor']((_0x5b7556-_0x61ce08[_0x23e5f2(0x220)]())/0x5265c00*0x18*0x10000000000/0x2);let _0x3dc12b=_0x447067,_0x4b9630=_0x447067,_0x4832fe=0x18*0x10000000000;if(_0x151732[_0x23e5f2(0x27c)]&&_0x151732['CFKEY']){const _0x56881d=_0x151732[_0x23e5f2(0x27c)],_0x481835=_0x151732[_0x23e5f2(0x209)],_0x574dde=_0x151732[_0x23e5f2(0x252)]||0x0,_0x4397f7=await getAccountId(_0x56881d,_0x481835);if(_0x4397f7){const _0x2f64c1=new Date();_0x2f64c1[_0x23e5f2(0x278)](0x0,0x0,0x0,0x0);const _0x3ad95a=_0x2f64c1[_0x23e5f2(0x2c7)](),_0x34a0ba=new Date()[_0x23e5f2(0x2c7)](),_0x26450e=await getSum(_0x4397f7,_0x574dde,_0x56881d,_0x481835,_0x3ad95a,_0x34a0ba);_0x3dc12b=_0x26450e[0x0],_0x4b9630=_0x26450e[0x1],_0x4832fe=0x19000;}}return _0x2c0e10&&_0x2c0e10['includes'](_0x23e5f2(0x21e))?new Response(''+_0x383a3d,{'status':0xc8,'headers':{'Content-Type':_0x23e5f2(0x22a),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x23e5f2(0x289)+_0x3dc12b+_0x23e5f2(0x277)+_0x4b9630+';\x20total='+_0x4832fe+_0x23e5f2(0x2b6)+expire}}):new Response(''+_0x383a3d,{'status':0xc8,'headers':{'Content-Disposition':_0x23e5f2(0x22f)+FileName+_0x23e5f2(0x1c4)+encodeURIComponent(FileName),'Content-Type':_0x23e5f2(0x22a),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x23e5f2(0x289)+_0x3dc12b+';\x20download='+_0x4b9630+_0x23e5f2(0x265)+_0x4832fe+_0x23e5f2(0x2b6)+expire}});}else{if(_0x151732[_0x23e5f2(0x2f3)])return Response['redirect'](_0x151732[_0x23e5f2(0x2f3)],0x12e);else{if(_0x151732[_0x23e5f2(0x298)])return await proxyURL(_0x151732['URL'],_0x58bf5a);else return new Response(_0x23e5f2(0x27f),{'status':0x194});}}}}}else{proxyIP=_0x58bf5a['searchParams']['get'](_0x23e5f2(0x2f1))||proxyIP;if(new RegExp(_0x23e5f2(0x225),'i')[_0x23e5f2(0x22b)](_0x58bf5a['pathname']))proxyIP=_0x58bf5a[_0x23e5f2(0x2c5)]['toLowerCase']()[_0x23e5f2(0x276)]('/proxyip=')[0x1];else{if(new RegExp(_0x23e5f2(0x1e8),'i')[_0x23e5f2(0x22b)](_0x58bf5a['pathname']))proxyIP='proxyip.'+_0x58bf5a[_0x23e5f2(0x2c5)][_0x23e5f2(0x268)]()[_0x23e5f2(0x276)]('/proxyip.')[0x1];}socks5Address=_0x58bf5a[_0x23e5f2(0x1b8)][_0x23e5f2(0x2f2)](_0x23e5f2(0x20b))||socks5Address;if(new RegExp(_0x23e5f2(0x20f),'i')[_0x23e5f2(0x22b)](_0x58bf5a['pathname']))socks5Address=_0x58bf5a[_0x23e5f2(0x2c5)]['split']('5=')[0x1];else{if(new RegExp('/socks://','i')[_0x23e5f2(0x22b)](_0x58bf5a[_0x23e5f2(0x2c5)])||new RegExp(_0x23e5f2(0x1c6),'i')[_0x23e5f2(0x22b)](_0x58bf5a['pathname'])){socks5Address=_0x58bf5a[_0x23e5f2(0x2c5)]['split'](_0x23e5f2(0x26a))[0x1][_0x23e5f2(0x276)]('#')[0x0];if(socks5Address['includes']('@')){let _0x200736=socks5Address[_0x23e5f2(0x276)]('@')[0x0];const _0x54ebf8=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x54ebf8[_0x23e5f2(0x22b)](_0x200736)&&!_0x200736[_0x23e5f2(0x1b5)](':'))_0x200736=atob(_0x200736);socks5Address=_0x200736+'@'+socks5Address[_0x23e5f2(0x276)]('@')[0x1];}}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x4d4c25){let _0x2ffe42=_0x4d4c25;console[_0x23e5f2(0x203)](_0x2ffe42[_0x23e5f2(0x2a6)]()),enableSocks=![];}else enableSocks=![];return await vlessOverWSHandler(_0x39d67b);}}catch(_0x65da95){let _0x175624=_0x65da95;return new Response(_0x175624['toString']());}}};async function vlessOverWSHandler(_0x4648a4){const _0x3a2461=_0xfd60e3,_0x275fba=new WebSocketPair(),[_0x4133a3,_0x8745a3]=Object['values'](_0x275fba);_0x8745a3['accept']();let _0x2c7ccf='',_0x4c2d29='';const _0x508905=(_0x5ed03c,_0x1ec23d)=>{const _0x44c1a0=_0x524c;console[_0x44c1a0(0x203)]('['+_0x2c7ccf+':'+_0x4c2d29+']\x20'+_0x5ed03c,_0x1ec23d||'');},_0x56a5a5=_0x4648a4['headers'][_0x3a2461(0x2f2)](_0x3a2461(0x1d7))||'',_0x35e1f7=makeReadableWebSocketStream(_0x8745a3,_0x56a5a5,_0x508905);let _0x105448={'value':null},_0x36b88f=![];return _0x35e1f7[_0x3a2461(0x253)](new WritableStream({async 'write'(_0x8f9d58,_0x2927a1){const _0x54eeba=_0x3a2461;if(_0x36b88f)return await handleDNSQuery(_0x8f9d58,_0x8745a3,null,_0x508905);if(_0x105448[_0x54eeba(0x2e1)]){const _0x4e72af=_0x105448[_0x54eeba(0x2e1)]['writable'][_0x54eeba(0x297)]();await _0x4e72af[_0x54eeba(0x212)](_0x8f9d58),_0x4e72af['releaseLock']();return;}const {hasError:_0x281715,message:_0x5d4f9b,addressType:_0x3def23,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x142b6a,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x1f2209}=processVlessHeader(_0x8f9d58,userID);_0x2c7ccf=addressRemote,_0x4c2d29=portRemote+'--'+Math['random']()+'\x20'+(_0x1f2209?'udp\x20':_0x54eeba(0x26d))+'\x20';if(_0x281715){throw new Error(_0x5d4f9b);return;}if(_0x1f2209){if(portRemote===0x35)_0x36b88f=!![];else{throw new Error('UDP\x20代理仅对\x20DNS（53\x20端口）启用');return;}}const _0x5b449b=new Uint8Array([vlessVersion[0x0],0x0]),_0x25909d=_0x8f9d58[_0x54eeba(0x243)](_0x142b6a);if(_0x36b88f)return handleDNSQuery(_0x25909d,_0x8745a3,_0x5b449b,_0x508905);_0x508905(_0x54eeba(0x2d7)+addressRemote+':'+portRemote),handleTCPOutBound(_0x105448,_0x3def23,addressRemote,portRemote,_0x25909d,_0x8745a3,_0x5b449b,_0x508905);},'close'(){const _0x2eb810=_0x3a2461;_0x508905(_0x2eb810(0x26e));},'abort'(_0x1d7fb7){const _0x4b1572=_0x3a2461;_0x508905(_0x4b1572(0x24b),JSON[_0x4b1572(0x210)](_0x1d7fb7));}}))['catch'](_0x16e68c=>{_0x508905('readableWebSocketStream\x20管道错误',_0x16e68c);}),new Response(null,{'status':0x65,'webSocket':_0x4133a3});}async function handleTCPOutBound(_0xd65187,_0x2b0ba9,_0x2f53bf,_0xd05797,_0x512e1b,_0x5817b8,_0x1df67d,_0x3ef8a7){const _0x4fb152=_0xfd60e3;async function _0x49ecb5(_0x5ac04e){const _0x1c942f=_0x524c;if(go2Socks5s['includes'](atob(_0x1c942f(0x1d0)))||go2Socks5s[_0x1c942f(0x1b5)](atob(_0x1c942f(0x23d))))return!![];return go2Socks5s[_0x1c942f(0x2dc)](_0x39af74=>{const _0x491cfc=_0x1c942f;let _0x25e5b4=_0x39af74[_0x491cfc(0x22c)](/\*/g,'.*'),_0x3b1c59=new RegExp('^'+_0x25e5b4+'$','i');return _0x3b1c59['test'](_0x5ac04e);});}async function _0x231d80(_0x38cd1b,_0x588a6c,_0x4b1eb1=![]){const _0x5c37d3=_0x524c;_0x3ef8a7(_0x5c37d3(0x238)+_0x38cd1b+':'+_0x588a6c);const _0x1d8532=_0x4b1eb1?await socks5Connect(_0x2b0ba9,_0x38cd1b,_0x588a6c,_0x3ef8a7):connect({'hostname':_0x38cd1b,'port':_0x588a6c});_0xd65187['value']=_0x1d8532;const _0x361716=_0x1d8532[_0x5c37d3(0x2af)][_0x5c37d3(0x297)]();return await _0x361716[_0x5c37d3(0x212)](_0x512e1b),_0x361716[_0x5c37d3(0x23b)](),_0x1d8532;}async function _0x12c771(){const _0x275555=_0x524c;if(enableSocks)_0x252733=await _0x231d80(_0x2f53bf,_0xd05797,!![]);else{if(!proxyIP||proxyIP=='')proxyIP=atob(_0x275555(0x1b9));else{if(proxyIP[_0x275555(0x1b5)](']:'))_0xd05797=proxyIP[_0x275555(0x276)](']:')[0x1]||_0xd05797,proxyIP=proxyIP['split'](']:')[0x0]||proxyIP;else proxyIP[_0x275555(0x276)](':')[_0x275555(0x2be)]===0x2&&(_0xd05797=proxyIP[_0x275555(0x276)](':')[0x1]||_0xd05797,proxyIP=proxyIP[_0x275555(0x276)](':')[0x0]||proxyIP);}if(proxyIP[_0x275555(0x1b5)](_0x275555(0x1f3)))_0xd05797=proxyIP['split'](_0x275555(0x1f3))[0x1][_0x275555(0x276)]('.')[0x0]||_0xd05797;_0x252733=await _0x231d80(proxyIP||_0x2f53bf,_0xd05797);}_0x252733[_0x275555(0x2a1)][_0x275555(0x1bd)](_0x2de8b3=>{const _0x51a8c2=_0x275555;console[_0x51a8c2(0x203)]('retry\x20tcpSocket\x20closed\x20error',_0x2de8b3);})[_0x275555(0x1d8)](()=>{safeCloseWebSocket(_0x5817b8);}),remoteSocketToWS(_0x252733,_0x5817b8,_0x1df67d,null,_0x3ef8a7);}let _0x1da7ab=![];if(go2Socks5s[_0x4fb152(0x2be)]>0x0&&enableSocks)_0x1da7ab=await _0x49ecb5(_0x2f53bf);let _0x252733=await _0x231d80(_0x2f53bf,_0xd05797,_0x1da7ab);remoteSocketToWS(_0x252733,_0x5817b8,_0x1df67d,_0x12c771,_0x3ef8a7);}function makeReadableWebSocketStream(_0x16b58a,_0x525d3f,_0x2a49b3){let _0x4d291b=![];const _0xde0d51=new ReadableStream({'start'(_0x1990ef){const _0x15c4a6=_0x524c;_0x16b58a[_0x15c4a6(0x223)]('message',_0x1fbe18=>{const _0x23605d=_0x15c4a6;if(_0x4d291b)return;const _0x1909d2=_0x1fbe18[_0x23605d(0x237)];_0x1990ef[_0x23605d(0x1c5)](_0x1909d2);}),_0x16b58a[_0x15c4a6(0x223)](_0x15c4a6(0x2cf),()=>{const _0x5e2101=_0x15c4a6;safeCloseWebSocket(_0x16b58a);if(_0x4d291b)return;_0x1990ef[_0x5e2101(0x2cf)]();}),_0x16b58a[_0x15c4a6(0x223)](_0x15c4a6(0x240),_0x106e12=>{const _0x3f17ee=_0x15c4a6;_0x2a49b3(_0x3f17ee(0x214)),_0x1990ef[_0x3f17ee(0x240)](_0x106e12);});const {earlyData:_0x30f1c9,error:_0xe9f4f8}=base64ToArrayBuffer(_0x525d3f);if(_0xe9f4f8)_0x1990ef[_0x15c4a6(0x240)](_0xe9f4f8);else _0x30f1c9&&_0x1990ef['enqueue'](_0x30f1c9);},'pull'(_0x2d1c4f){},'cancel'(_0x2bc4d7){const _0x5bad34=_0x524c;if(_0x4d291b)return;_0x2a49b3(_0x5bad34(0x21b)+_0x2bc4d7),_0x4d291b=!![],safeCloseWebSocket(_0x16b58a);}});return _0xde0d51;}function processVlessHeader(_0x527b9d,_0x2fbe28){const _0x10b0e4=_0xfd60e3;if(_0x527b9d['byteLength']<0x18)return{'hasError':!![],'message':_0x10b0e4(0x21a)};const _0x59b054=new Uint8Array(_0x527b9d[_0x10b0e4(0x243)](0x0,0x1));let _0x5de2fc=![],_0x25a8af=![];function _0x13b30a(_0x383343,_0x554110,_0x564101){const _0xa94a97=new Uint8Array(_0x564101['slice'](0x1,0x11)),_0x48d074=stringify(_0xa94a97);return _0x48d074===_0x383343||_0x48d074===_0x554110;}_0x5de2fc=_0x13b30a(_0x2fbe28,userIDLow,_0x527b9d);if(!_0x5de2fc)return{'hasError':!![],'message':_0x10b0e4(0x1fc)+new Uint8Array(_0x527b9d[_0x10b0e4(0x243)](0x1,0x11))};const _0x240653=new Uint8Array(_0x527b9d['slice'](0x11,0x12))[0x0],_0x516c6c=new Uint8Array(_0x527b9d['slice'](0x12+_0x240653,0x12+_0x240653+0x1))[0x0];if(_0x516c6c===0x1){}else{if(_0x516c6c===0x2)_0x25a8af=!![];else return{'hasError':!![],'message':_0x10b0e4(0x2b4)+_0x516c6c+_0x10b0e4(0x249)};}const _0x4c7eae=0x12+_0x240653+0x1,_0x2616f2=_0x527b9d[_0x10b0e4(0x243)](_0x4c7eae,_0x4c7eae+0x2),_0x290a8e=new DataView(_0x2616f2)[_0x10b0e4(0x2e3)](0x0);let _0x16aecb=_0x4c7eae+0x2;const _0x414f25=new Uint8Array(_0x527b9d['slice'](_0x16aecb,_0x16aecb+0x1)),_0x456056=_0x414f25[0x0];let _0x522d44=0x0,_0xbc4e69=_0x16aecb+0x1,_0x16033e='';switch(_0x456056){case 0x1:_0x522d44=0x4,_0x16033e=new Uint8Array(_0x527b9d[_0x10b0e4(0x243)](_0xbc4e69,_0xbc4e69+_0x522d44))[_0x10b0e4(0x24d)]('.');break;case 0x2:_0x522d44=new Uint8Array(_0x527b9d['slice'](_0xbc4e69,_0xbc4e69+0x1))[0x0],_0xbc4e69+=0x1,_0x16033e=new TextDecoder()[_0x10b0e4(0x2e8)](_0x527b9d[_0x10b0e4(0x243)](_0xbc4e69,_0xbc4e69+_0x522d44));break;case 0x3:_0x522d44=0x10;const _0x2d7636=new DataView(_0x527b9d[_0x10b0e4(0x243)](_0xbc4e69,_0xbc4e69+_0x522d44)),_0x455f6=[];for(let _0x20a9bd=0x0;_0x20a9bd<0x8;_0x20a9bd++){_0x455f6[_0x10b0e4(0x1f7)](_0x2d7636['getUint16'](_0x20a9bd*0x2)[_0x10b0e4(0x2a6)](0x10));}_0x16033e=_0x455f6[_0x10b0e4(0x24d)](':');break;default:return{'hasError':!![],'message':'invild\x20addressType\x20is\x20'+_0x456056};}if(!_0x16033e)return{'hasError':!![],'message':_0x10b0e4(0x2eb)+_0x456056};return{'hasError':![],'addressRemote':_0x16033e,'addressType':_0x456056,'portRemote':_0x290a8e,'rawDataIndex':_0xbc4e69+_0x522d44,'vlessVersion':_0x59b054,'isUDP':_0x25a8af};}async function remoteSocketToWS(_0x1a0647,_0x1f340b,_0xbbafdc,_0x48b40c,_0x40ff7d){const _0x587351=_0xfd60e3;let _0x1b0d02=0x0,_0x4df335=[],_0x451e72=_0xbbafdc,_0x54322f=![];await _0x1a0647[_0x587351(0x216)][_0x587351(0x253)](new WritableStream({'start'(){},async 'write'(_0x13adbf,_0xa77ebc){const _0x51b4e6=_0x587351;_0x54322f=!![],_0x1f340b['readyState']!==WS_READY_STATE_OPEN&&_0xa77ebc[_0x51b4e6(0x240)](_0x51b4e6(0x1c8)),_0x451e72?(_0x1f340b[_0x51b4e6(0x1ba)](await new Blob([_0x451e72,_0x13adbf])[_0x51b4e6(0x28f)]()),_0x451e72=null):_0x1f340b[_0x51b4e6(0x1ba)](_0x13adbf);},'close'(){const _0x4fe694=_0x587351;_0x40ff7d(_0x4fe694(0x1ce)+_0x54322f);},'abort'(_0x3e6666){const _0x25663e=_0x587351;console[_0x25663e(0x240)]('remoteConnection!.readable\x20abort',_0x3e6666);}}))[_0x587351(0x1bd)](_0x43a864=>{const _0x4c3405=_0x587351;console['error'](_0x4c3405(0x2d4),_0x43a864[_0x4c3405(0x2ee)]||_0x43a864),safeCloseWebSocket(_0x1f340b);}),_0x54322f===![]&&_0x48b40c&&(_0x40ff7d(_0x587351(0x219)),_0x48b40c());}function base64ToArrayBuffer(_0x4eab8e){const _0x26e992=_0xfd60e3;if(!_0x4eab8e)return{'error':null};try{_0x4eab8e=_0x4eab8e[_0x26e992(0x22c)](/-/g,'+')['replace'](/_/g,'/');const _0xa74322=atob(_0x4eab8e),_0x51eb01=Uint8Array[_0x26e992(0x2ae)](_0xa74322,_0x2d0840=>_0x2d0840[_0x26e992(0x2f7)](0x0));return{'earlyData':_0x51eb01[_0x26e992(0x226)],'error':null};}catch(_0x5c74ad){return{'error':_0x5c74ad};}}function isValidUUID(_0x4e5746){const _0x2d268e=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x2d268e['test'](_0x4e5746);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0xb5d637){const _0x1440e2=_0xfd60e3;try{(_0xb5d637['readyState']===WS_READY_STATE_OPEN||_0xb5d637[_0x1440e2(0x207)]===WS_READY_STATE_CLOSING)&&_0xb5d637[_0x1440e2(0x2cf)]();}catch(_0x139839){console[_0x1440e2(0x240)]('safeCloseWebSocket\x20error',_0x139839);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0xfd60e3(0x1f7)]((i+0x100)[_0xfd60e3(0x2a6)](0x10)['slice'](0x1));}function unsafeStringify(_0x28dfd9,_0x1f849e=0x0){return(byteToHex[_0x28dfd9[_0x1f849e+0x0]]+byteToHex[_0x28dfd9[_0x1f849e+0x1]]+byteToHex[_0x28dfd9[_0x1f849e+0x2]]+byteToHex[_0x28dfd9[_0x1f849e+0x3]]+'-'+byteToHex[_0x28dfd9[_0x1f849e+0x4]]+byteToHex[_0x28dfd9[_0x1f849e+0x5]]+'-'+byteToHex[_0x28dfd9[_0x1f849e+0x6]]+byteToHex[_0x28dfd9[_0x1f849e+0x7]]+'-'+byteToHex[_0x28dfd9[_0x1f849e+0x8]]+byteToHex[_0x28dfd9[_0x1f849e+0x9]]+'-'+byteToHex[_0x28dfd9[_0x1f849e+0xa]]+byteToHex[_0x28dfd9[_0x1f849e+0xb]]+byteToHex[_0x28dfd9[_0x1f849e+0xc]]+byteToHex[_0x28dfd9[_0x1f849e+0xd]]+byteToHex[_0x28dfd9[_0x1f849e+0xe]]+byteToHex[_0x28dfd9[_0x1f849e+0xf]])['toLowerCase']();}function stringify(_0x4098e6,_0x25a28a=0x0){const _0x1443f3=unsafeStringify(_0x4098e6,_0x25a28a);if(!isValidUUID(_0x1443f3))throw TypeError('生成的\x20UUID\x20不符合规范\x20'+_0x1443f3);return _0x1443f3;}async function handleDNSQuery(_0x3512c5,_0x2ac8a0,_0x30c7f9,_0x198c3d){const _0x3a28ac=_0xfd60e3;try{const _0x1016e9=_0x3a28ac(0x1fa),_0x5bfd2b=0x35;let _0x4e0100=_0x30c7f9;const _0x124b30=connect({'hostname':_0x1016e9,'port':_0x5bfd2b});_0x198c3d(_0x3a28ac(0x250)+_0x1016e9+':'+_0x5bfd2b);const _0x5ddcc7=_0x124b30[_0x3a28ac(0x2af)][_0x3a28ac(0x297)]();await _0x5ddcc7[_0x3a28ac(0x212)](_0x3512c5),_0x5ddcc7['releaseLock'](),await _0x124b30[_0x3a28ac(0x216)][_0x3a28ac(0x253)](new WritableStream({async 'write'(_0x4fc3c6){const _0x3adc9a=_0x3a28ac;_0x2ac8a0[_0x3adc9a(0x207)]===WS_READY_STATE_OPEN&&(_0x4e0100?(_0x2ac8a0[_0x3adc9a(0x1ba)](await new Blob([_0x4e0100,_0x4fc3c6])[_0x3adc9a(0x28f)]()),_0x4e0100=null):_0x2ac8a0[_0x3adc9a(0x1ba)](_0x4fc3c6));},'close'(){const _0x1a9a43=_0x3a28ac;_0x198c3d(_0x1a9a43(0x1e5)+_0x1016e9+_0x1a9a43(0x215));},'abort'(_0xb29d84){const _0x170565=_0x3a28ac;console[_0x170565(0x240)]('DNS\x20服务器('+_0x1016e9+_0x170565(0x264),_0xb29d84);}}));}catch(_0x1b76de){console[_0x3a28ac(0x240)](_0x3a28ac(0x1f2)+_0x1b76de['message']);}}function _0x2acf(){const _0x8f4118=['slice','https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini','Upgrade','encode','443','singapore.com:8443','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','\x0a\x20\x20network:\x20','readableWebSocketStream\x20已中止','HTTP\x20error!\x20status:\x20','join','3366095xCJnjT','8080','连接到\x20','\x0aUUIDLow:\x20','CFID','pipeTo','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','https','set','find','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a','2019570cSZyDr','signal','\x0aSUBAPI（订阅转换后端）:\x20','CFPORTS','552768DFdUFB','\x20天\x0aUPTIME（动态UUID更新时间）:\x20','\x0aUUIDNow:\x20','#获取订阅\x20','https://api.telegram.org/bot','&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','ADDNOTLSAPI',')\x20TCP\x20连接异常中断',';\x20total=','\x0a\x20\x20port:\x20','</tg-spoiler>','toLowerCase','\x0a组织:\x20','://','sub','requests','tcp\x20','readableWebSocketStream\x20已关闭','\x0aFKID:\x20','\x0a\x20\x20uuid:\x20','CF-Workers-edgetunnel/cmliu','FALSE','json','2052','TRUE','split',';\x20download=','setUTCHours','/sub?target=clash&url=','\x0a\x20\x20ws-opts:\x0a\x20\x20\x20\x20path:\x20\x22','DLS','CFEMAIL','RPROXYIP','hostname','不用怀疑！你UUID就是错的！！！','&parse_mode=HTML&text=','\x0a<tg-spoiler>入口:\x20','protocol','SUBNAME','SOCKS5','UUID','?sb\x0ahttps://','\x20(UTC+8):\x20','ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20','upload=',':443','sing-box','false','getMilliseconds','?base64\x0a\x0aclash订阅地址:\x0ahttps://','arrayBuffer','result','www.gov.se','Error\x20fetching\x20content:\x20','map','</tg-spoiler>\x0a域名:\x20','japan.com:2053','reduce','getWriter','URL','www.wto.org:8443','&type=','has','2083','Host','dynadot.com:8880','visa.cn:443','[2606:4700::]#IPv6','closed','?clash\x0a\x0asingbox订阅地址:\x0ahttps://','clash','CF-Workers-SUB','reverse','toString','2053','www.visasoutheasteurope.com:2086','nekobox','concat','entries','&sni=','KEY','from','writable','workers.dev','?lang=zh-CN','https://api.cloudflare.com/client/v4/graphql','1711960lFPeYJ','command\x20','https://',';\x20expire=','*ttvnw.net','1a121ee2-67d1-48b3-ab80-1932098a95f5','无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式','viewer','\x0a<tg-spoiler>城市:\x20','proxyip=true','虚假订阅:\x20','length','26tPMena','ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20','\x0aSUBCONFIG（订阅转换配置文件）:\x20','pages.dev','toUpperCase','headers','pathname','\x0a\x20\x20client-fingerprint:\x20','toISOString','worker','russia.com:2087','\x20配置信息\x0a---------------------------------------------------------------\x0a','CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20','2095','/sendMessage?chat_id=','SOCKS5\x20连接已建立','close','5963006tDgbIY','uuid\x20is\x20not\x20valid','找不到数据','TGID','remoteSocketToWS\x20has\x20exception\x20','SUBCONFIG','无效的地址类型:\x20','处理\x20TCP\x20出站连接\x20','\x0a国家:\x20','ADDNOTLS（noTLS优选域名&IP）:\x20\x0a\x20\x20','&fp=','random','some','SOCKS5\x20服务器认证失败','&insert=false&config=','shopify.com:2082','tls','value','Error\x20fetching\x20content:','getUint16','statusText','pagesFunctionsInvocationsAdaptiveGroups','brazil.com:2083','ceil','decode','b64','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','addressValue\x20is\x20empty,\x20addressType\x20is\x20','notls','\x0a---------------------------------------------------------------\x0a################################################################\x0atelegram\x20交流群\x20技术大佬~在线发牌!\x0ahttps://t.me/CMLiussss\x0a---------------------------------------------------------------\x0agithub\x20项目地址\x20Star!Star!Star!!!\x0ahttps://github.com/cmliu/edgetunnel\x0a---------------------------------------------------------------\x0a################################################################\x0a','stack','虚假HOST:\x20','Join.my.Telegram.channel.CMLiussss.to.unlock.more.premium.nodes.cf.090227.xyz#加入我的频道t.me/CMLiussss解锁更多优选节点','proxyip','get','URL302','\x0aASN:\x20','?encryption=none&security=&type=ws&host=','allSettled','charCodeAt','search','city','TOKEN:\x20','612888BHaBLa','2082','POST','includes','\x0aUUID:\x20','获取地址时出错:','searchParams','cHJveHlpcC50cDEuY21saXVzc3NzLmNvbQ==','send','www.gco.gov.qa:8443','ADD','catch','ADDNOTLS','CFCDN（访问方式）:\x20Socks5\x0a\x20\x20','none','https://raw.githubusercontent.com/cmliu/CFcdnVmess2sub/main/proxyhosts','setMilliseconds','charAt',';\x20filename*=utf-8\x27\x27','enqueue','/socks5://','status','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','substr','?b64\x0ahttps://','.net','workersInvocationsAdaptive','33729xuwujZ','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','&fp=random&type=ws&host=','YWxsIGlu','visa.cn','MD5','?encryption=none&security=tls&sni=','.pages.dev','ADDCSV（IPTest测速csv文件\x20限速\x20','9iWJKHX','sec-websocket-protocol','finally','?notls','redirect','&path=','all','indexOf','setHours','match','sum','HOST:\x20','edgetunnel','\x0a您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供\x0a','GO2SOCKS5','DNS\x20服务器(','/?ed=2560','websocket','/proxyip.','http','SOCKS5\x20连接建立失败','accounts','text','\x0aSUB（优选订阅生成器）:\x20','CF-Connecting-IP','ADDCSV','Mozilla/5.0\x20Chrome/90.0.4430.72','User-Agent','handleDNSQuery\x20函数发生异常，错误信息:\x20','.tp','true','myanmar.visa.com:8080','2087','push','ADDAPI','TGTOKEN','8.8.4.4','8443','invalid\x20user\x20','\x0aIP:\x20','subtle','SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20','\x20CF-Workers-edgetunnel/cmliu','now','then','log','filter','null','fbi.gov:2087','readyState','gzip,\x20deflate,\x20br','CFKEY','fulfilled','socks5','getReader','/sub?host=','\x0a\x20\x20','/socks5=','stringify','获取CSV地址时出错:','write','padStart','WebSocket\x20服务器发生错误',')\x20TCP\x20连接已关闭','readable','read','&edgetunnel=cmliu&proxyip=','retry','invalid\x20data','可读流被取消，原因是\x20','SHA-256','*tapecontent.net','mozilla','\x20时（北京时间）\x0a\x0a','getTime','SUB','url','addEventListener','icook.hk','/proxyip=','buffer','application/json','/sub?target=singbox&url=','base64','text/plain;charset=utf-8','test','replace','www.visaeurope.ch:2052','\x0aUA:\x20','attachment;\x20filename=','trim','\x0a\x20\x20server:\x20','?sub\x0a\x0aBase64订阅地址:\x0ahttps://','digest','-\x20type:\x20','floor','http://','data','connected\x20to\x20','PROXYIP','function','releaseLock','usa.visa.com:2095','Kg==','\x22\x0a\x20\x20\x20\x20headers:\x0a\x20\x20\x20\x20\x20\x20host:\x20','.workers.dev','error','TLS','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.'];_0x2acf=function(){return _0x8f4118;};return _0x2acf();}async function socks5Connect(_0x4df8e6,_0x3fc374,_0x57054a,_0x52a542){const _0x391974=_0xfd60e3,{username:_0x58a14f,password:_0x271133,hostname:_0x101811,port:_0xdce24f}=parsedSocks5Address,_0x46117d=connect({'hostname':_0x101811,'port':_0xdce24f}),_0x4c5814=new Uint8Array([0x5,0x2,0x0,0x2]),_0x1506ce=_0x46117d[_0x391974(0x2af)][_0x391974(0x297)]();await _0x1506ce[_0x391974(0x212)](_0x4c5814),_0x52a542('已发送\x20SOCKS5\x20问候消息');const _0x43898f=_0x46117d[_0x391974(0x216)][_0x391974(0x20c)](),_0x9e780=new TextEncoder();let _0x13a370=(await _0x43898f[_0x391974(0x217)]())['value'];if(_0x13a370[0x0]!==0x5){_0x52a542('SOCKS5\x20服务器版本错误:\x20收到\x20'+_0x13a370[0x0]+'，期望是\x205');return;}if(_0x13a370[0x1]===0xff){_0x52a542('服务器不接受任何认证方法');return;}if(_0x13a370[0x1]===0x2){_0x52a542('SOCKS5\x20服务器需要认证');if(!_0x58a14f||!_0x271133){_0x52a542('请提供用户名和密码');return;}const _0x4ad3dd=new Uint8Array([0x1,_0x58a14f['length'],..._0x9e780[_0x391974(0x246)](_0x58a14f),_0x271133[_0x391974(0x2be)],..._0x9e780[_0x391974(0x246)](_0x271133)]);await _0x1506ce['write'](_0x4ad3dd),_0x13a370=(await _0x43898f['read']())[_0x391974(0x2e1)];if(_0x13a370[0x0]!==0x1||_0x13a370[0x1]!==0x0){_0x52a542(_0x391974(0x2dd));return;}}let _0x2a3247;switch(_0x4df8e6){case 0x1:_0x2a3247=new Uint8Array([0x1,..._0x3fc374['split']('.')[_0x391974(0x293)](Number)]);break;case 0x2:_0x2a3247=new Uint8Array([0x3,_0x3fc374[_0x391974(0x2be)],..._0x9e780[_0x391974(0x246)](_0x3fc374)]);break;case 0x3:_0x2a3247=new Uint8Array([0x4,..._0x3fc374[_0x391974(0x276)](':')['flatMap'](_0x437cf2=>[parseInt(_0x437cf2['slice'](0x0,0x2),0x10),parseInt(_0x437cf2[_0x391974(0x243)](0x2),0x10)])]);break;default:_0x52a542(_0x391974(0x2d6)+_0x4df8e6);return;}const _0x37c46f=new Uint8Array([0x5,0x1,0x0,..._0x2a3247,_0x57054a>>0x8,_0x57054a&0xff]);await _0x1506ce[_0x391974(0x212)](_0x37c46f),_0x52a542('已发送\x20SOCKS5\x20请求'),_0x13a370=(await _0x43898f[_0x391974(0x217)]())[_0x391974(0x2e1)];if(_0x13a370[0x1]===0x0)_0x52a542(_0x391974(0x2ce));else{_0x52a542(_0x391974(0x1ea));return;}return _0x1506ce[_0x391974(0x23b)](),_0x43898f[_0x391974(0x23b)](),_0x46117d;}function socks5AddressParser(_0x121b09){const _0x283390=_0xfd60e3;let [_0x520ac2,_0x3f5a58]=_0x121b09['split']('@')[_0x283390(0x2a5)](),_0x6d0224,_0x4e1f17,_0x3a57d8,_0x3184ab;if(_0x3f5a58){const _0x40ac02=_0x3f5a58[_0x283390(0x276)](':');if(_0x40ac02[_0x283390(0x2be)]!==0x2)throw new Error(_0x283390(0x2b9));[_0x6d0224,_0x4e1f17]=_0x40ac02;}const _0x332037=_0x520ac2['split'](':');_0x3184ab=Number(_0x332037['pop']());if(isNaN(_0x3184ab))throw new Error('无效的\x20SOCKS\x20地址格式：端口号必须是数字');_0x3a57d8=_0x332037[_0x283390(0x24d)](':');const _0xb069ec=/^\[.*\]$/;if(_0x3a57d8[_0x283390(0x1b5)](':')&&!_0xb069ec[_0x283390(0x22b)](_0x3a57d8))throw new Error(_0x283390(0x2ea));return{'username':_0x6d0224,'password':_0x4e1f17,'hostname':_0x3a57d8,'port':_0x3184ab};}function revertFakeInfo(_0x35d81c,_0x461147,_0x1bd18b,_0x2c1299){const _0x1ced6d=_0xfd60e3;if(_0x2c1299)_0x35d81c=atob(_0x35d81c);_0x35d81c=_0x35d81c[_0x1ced6d(0x22c)](new RegExp(fakeUserID,'g'),_0x461147)['replace'](new RegExp(fakeHostName,'g'),_0x1bd18b);if(_0x2c1299)_0x35d81c=btoa(_0x35d81c);return _0x35d81c;}async function MD5MD5(_0x5a2b51){const _0x43a1f1=_0xfd60e3,_0x31e5e2=new TextEncoder(),_0x2185c4=await crypto['subtle'][_0x43a1f1(0x233)](_0x43a1f1(0x1d2),_0x31e5e2[_0x43a1f1(0x246)](_0x5a2b51)),_0x4423c7=Array[_0x43a1f1(0x2ae)](new Uint8Array(_0x2185c4)),_0x506ae2=_0x4423c7['map'](_0x103b47=>_0x103b47[_0x43a1f1(0x2a6)](0x10)[_0x43a1f1(0x213)](0x2,'0'))[_0x43a1f1(0x24d)](''),_0x34d393=await crypto[_0x43a1f1(0x1fe)][_0x43a1f1(0x233)]('MD5',_0x31e5e2[_0x43a1f1(0x246)](_0x506ae2[_0x43a1f1(0x243)](0x7,0x1b))),_0x849f18=Array[_0x43a1f1(0x2ae)](new Uint8Array(_0x34d393)),_0x596c1e=_0x849f18[_0x43a1f1(0x293)](_0x37530e=>_0x37530e[_0x43a1f1(0x2a6)](0x10)[_0x43a1f1(0x213)](0x2,'0'))[_0x43a1f1(0x24d)]('');return _0x596c1e[_0x43a1f1(0x268)]();}async function ADD(_0x197b87){const _0x2a9b30=_0xfd60e3;var _0x3cb9f2=_0x197b87[_0x2a9b30(0x22c)](/[	|"'\r\n]+/g,',')[_0x2a9b30(0x22c)](/,+/g,',');if(_0x3cb9f2[_0x2a9b30(0x1c3)](0x0)==',')_0x3cb9f2=_0x3cb9f2[_0x2a9b30(0x243)](0x1);if(_0x3cb9f2['charAt'](_0x3cb9f2[_0x2a9b30(0x2be)]-0x1)==',')_0x3cb9f2=_0x3cb9f2['slice'](0x0,_0x3cb9f2['length']-0x1);const _0x1363b2=_0x3cb9f2[_0x2a9b30(0x276)](',');return _0x1363b2;}async function proxyURL(_0x45caca,_0x1de7e9){const _0xd6eefc=_0xfd60e3,_0x1cf5c3=await ADD(_0x45caca),_0x364415=_0x1cf5c3[Math[_0xd6eefc(0x235)](Math[_0xd6eefc(0x2db)]()*_0x1cf5c3[_0xd6eefc(0x2be)])];let _0x90176f=new URL(_0x364415);console['log'](_0x90176f);let _0x25d571=_0x90176f[_0xd6eefc(0x282)][_0xd6eefc(0x243)](0x0,-0x1)||_0xd6eefc(0x255),_0x181fb3=_0x90176f[_0xd6eefc(0x27e)],_0x14f739=_0x90176f[_0xd6eefc(0x2c5)],_0x1b6cfb=_0x90176f['search'];_0x14f739[_0xd6eefc(0x1c3)](_0x14f739[_0xd6eefc(0x2be)]-0x1)=='/'&&(_0x14f739=_0x14f739[_0xd6eefc(0x243)](0x0,-0x1));_0x14f739+=_0x1de7e9['pathname'];let _0x13169e=_0x25d571+_0xd6eefc(0x26a)+_0x181fb3+_0x14f739+_0x1b6cfb,_0x42ecc2=await fetch(_0x13169e),_0x4a11f3=new Response(_0x42ecc2['body'],{'status':_0x42ecc2[_0xd6eefc(0x1c7)],'statusText':_0x42ecc2['statusText'],'headers':_0x42ecc2[_0xd6eefc(0x2c4)]});return _0x4a11f3[_0xd6eefc(0x2c4)][_0xd6eefc(0x256)]('X-New-URL',_0x13169e),_0x4a11f3;}function checkSUB(_0x4cf31a){const _0x1d42e9=_0xfd60e3;if((!sub||sub=='')&&addresses['length']+addressesapi[_0x1d42e9(0x2be)]+addressesnotls['length']+addressesnotlsapi[_0x1d42e9(0x2be)]+addressescsv['length']==0x0){addresses=[_0x1d42e9(0x2f0),'127.0.0.1:1234#CFnat',_0x1d42e9(0x29f),_0x1d42e9(0x248),_0x1d42e9(0x295),_0x1d42e9(0x2e6),_0x1d42e9(0x2c9),'www.gov.ua:2096',_0x1d42e9(0x1bb),_0x1d42e9(0x291),'time.is',_0x1d42e9(0x299),_0x1d42e9(0x206),_0x1d42e9(0x224),_0x1d42e9(0x2a0)];if(_0x4cf31a[_0x1d42e9(0x1b5)](_0x1d42e9(0x23f)))addressesnotls=[_0x1d42e9(0x23c),_0x1d42e9(0x1f5),_0x1d42e9(0x29e),_0x1d42e9(0x22d),_0x1d42e9(0x2df),_0x1d42e9(0x2a8)];}}const 啥啥啥_写的这是啥啊='dmxlc3M=';function 配置信息(_0x4ea523,_0x4f88ce){const _0x43569c=_0xfd60e3,_0x56e3c8=atob(啥啥啥_写的这是啥啊),_0x34989d=FileName;let _0x1ef0e6=_0x4f88ce,_0x483670=0x1bb;const _0x126dfe=_0x4ea523,_0x3f7f21=_0x43569c(0x1c0),_0x29c1bd='ws',_0x1e52b9=_0x4f88ce,_0x29af0e=_0x43569c(0x1e6);let _0x1dba89=[_0x43569c(0x2e0),!![]];const _0x8e9388=_0x4f88ce,_0x341eea='randomized';_0x4f88ce[_0x43569c(0x1b5)](_0x43569c(0x23f))&&(_0x1ef0e6=_0x43569c(0x1d1),_0x483670=0x50,_0x1dba89=['',![]]);const _0x180626=_0x56e3c8+_0x43569c(0x26a)+_0x126dfe+'@'+_0x1ef0e6+':'+_0x483670+'?encryption='+_0x3f7f21+'&security='+_0x1dba89[0x0]+_0x43569c(0x2ac)+_0x8e9388+_0x43569c(0x2da)+_0x341eea+_0x43569c(0x29a)+_0x29c1bd+'&host='+_0x1e52b9+_0x43569c(0x1db)+encodeURIComponent(_0x29af0e)+'#'+encodeURIComponent(_0x34989d),_0x2f08d3=_0x43569c(0x234)+_0x56e3c8+'\x0a\x20\x20name:\x20'+FileName+_0x43569c(0x231)+_0x1ef0e6+_0x43569c(0x266)+_0x483670+_0x43569c(0x270)+_0x126dfe+_0x43569c(0x24a)+_0x29c1bd+'\x0a\x20\x20tls:\x20'+_0x1dba89[0x1]+'\x0a\x20\x20udp:\x20false\x0a\x20\x20sni:\x20'+_0x8e9388+_0x43569c(0x2c6)+_0x341eea+_0x43569c(0x27a)+_0x29af0e+_0x43569c(0x23e)+_0x1e52b9;return[_0x180626,_0x2f08d3];}let subParams=[_0xfd60e3(0x26b),_0xfd60e3(0x229),_0xfd60e3(0x2e9),'clash','singbox','sb'];async function getVLESSConfig(_0x474ed6,_0x269bd2,_0x3735c1,_0x338439,_0x517d76,_0x4ed80f,_0x2de8d4){const _0x38e295=_0xfd60e3,_0x513ba0=_0x4ed80f['pathname']=='/'+_0x2de8d4[_0x38e295(0x2ad)]?_0x2de8d4[_0x38e295(0x2ad)]:_0x474ed6;checkSUB(_0x269bd2);const _0x31b918=_0x338439[_0x38e295(0x268)](),_0x22c369=配置信息(_0x474ed6,_0x269bd2),_0xd7dc37=_0x22c369[0x0],_0x481b6a=_0x22c369[0x1];let _0x56ca63='';if(_0x269bd2['includes'](_0x38e295(0x23f))||_0x269bd2[_0x38e295(0x1b5)](_0x38e295(0x1d4))){if(proxyhostsURL&&(!proxyhosts||proxyhosts['length']==0x0))try{const _0x268225=await fetch(proxyhostsURL);if(!_0x268225['ok']){console[_0x38e295(0x240)](_0x38e295(0x1b7),_0x268225[_0x38e295(0x1c7)],_0x268225[_0x38e295(0x2e4)]);return;}const _0xc691a3=await _0x268225['text'](),_0xd14529=_0xc691a3[_0x38e295(0x276)]('\x0a'),_0x19ac99=_0xd14529['filter'](_0x1d240c=>_0x1d240c[_0x38e295(0x230)]()!=='');proxyhosts=proxyhosts[_0x38e295(0x2aa)](_0x19ac99);}catch(_0x3576b1){}if(proxyhosts[_0x38e295(0x2be)]!=0x0)_0x56ca63=proxyhosts[Math['floor'](Math[_0x38e295(0x2db)]()*proxyhosts['length'])]+'/';}if(_0x31b918['includes'](_0x38e295(0x21e))&&!subParams[_0x38e295(0x2dc)](_0x1a8960=>_0x4ed80f[_0x38e295(0x1b8)][_0x38e295(0x29b)](_0x1a8960))){const _0x2fb9e1=socks5s['map'](_0x545701=>{const _0x464bbe=_0x38e295;if(_0x545701['includes']('@'))return _0x545701[_0x464bbe(0x276)]('@')[0x1];else{if(_0x545701[_0x464bbe(0x1b5)]('//'))return _0x545701[_0x464bbe(0x276)]('//')[0x1];else return _0x545701;}});let _0x334254='';if(go2Socks5s[_0x38e295(0x2be)]>0x0&&enableSocks){_0x334254=''+decodeURIComponent(_0x38e295(0x1ff));if(go2Socks5s['includes'](atob(_0x38e295(0x1d0)))||go2Socks5s[_0x38e295(0x1b5)](atob(_0x38e295(0x23d))))_0x334254+=decodeURIComponent(_0x38e295(0x254))+'\x0a';else _0x334254+='\x0a\x20\x20'+go2Socks5s['join'](_0x38e295(0x20e))+'\x0a';}let _0x3eb3ed='\x0a';if(!_0x3735c1||_0x3735c1==''){if(enableSocks)_0x3eb3ed+=_0x38e295(0x1bf)+_0x2fb9e1[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a'+_0x334254;else{if(proxyIP&&proxyIP!='')_0x3eb3ed+=_0x38e295(0x2cb)+proxyIPs[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a';else _0x3eb3ed+=_0x38e295(0x258);}_0x3eb3ed+=_0x38e295(0x1e3);if(addresses[_0x38e295(0x2be)]>0x0)_0x3eb3ed+='ADD（TLS优选域名&IP）:\x20\x0a\x20\x20'+addresses[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a';if(addressesnotls[_0x38e295(0x2be)]>0x0)_0x3eb3ed+=_0x38e295(0x2d9)+addressesnotls[_0x38e295(0x24d)]('\x0a\x20\x20')+'\x0a';if(addressesapi[_0x38e295(0x2be)]>0x0)_0x3eb3ed+=_0x38e295(0x2c0)+addressesapi[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a';if(addressesnotlsapi[_0x38e295(0x2be)]>0x0)_0x3eb3ed+=_0x38e295(0x288)+addressesnotlsapi[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a';if(addressescsv[_0x38e295(0x2be)]>0x0)_0x3eb3ed+=_0x38e295(0x1d5)+DLS+'\x20）:\x20\x0a\x20\x20'+addressescsv[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a';}else{if(enableSocks)_0x3eb3ed+=_0x38e295(0x1bf)+_0x2fb9e1[_0x38e295(0x24d)](_0x38e295(0x20e))+'\x0a'+_0x334254;else{if(proxyIP&&proxyIP!='')_0x3eb3ed+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x38e295(0x24d)]('\x0a\x20\x20')+'\x0a';else{if(_0x517d76==_0x38e295(0x1f4))_0x3eb3ed+='CFCDN（访问方式）:\x20自动获取ProxyIP\x0a';else _0x3eb3ed+='CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a';}}_0x3eb3ed+=_0x38e295(0x1ed)+_0x3735c1;}if(_0x2de8d4[_0x38e295(0x2ad)]&&_0x4ed80f[_0x38e295(0x2c5)]!=='/'+_0x2de8d4['KEY'])_0x3eb3ed='';else _0x3eb3ed+=_0x38e295(0x25b)+subProtocol+_0x38e295(0x26a)+subconverter+_0x38e295(0x2c1)+subconfig;const _0x59dcbb=_0x513ba0!=_0x474ed6?_0x38e295(0x2fa)+_0x513ba0+_0x38e295(0x25f)+_0x474ed6+_0x38e295(0x251)+userIDLow+'\x0a'+userIDTime+'TIME（动态UUID有效时间）:\x20'+effectiveTime+_0x38e295(0x25e)+updateTime+_0x38e295(0x21f):''+userIDTime;return'\x0a################################################################\x0aSubscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式\x0a---------------------------------------------------------------\x0a快速自适应订阅地址:\x0ahttps://'+_0x56ca63+_0x269bd2+'/'+_0x513ba0+'\x0ahttps://'+_0x56ca63+_0x269bd2+'/'+_0x513ba0+_0x38e295(0x232)+_0x56ca63+_0x269bd2+'/'+_0x513ba0+_0x38e295(0x1ca)+_0x56ca63+_0x269bd2+'/'+_0x513ba0+_0x38e295(0x28e)+_0x56ca63+_0x269bd2+'/'+_0x513ba0+_0x38e295(0x2a2)+_0x56ca63+_0x269bd2+'/'+_0x513ba0+_0x38e295(0x286)+_0x56ca63+_0x269bd2+'/'+_0x513ba0+'?singbox\x0a---------------------------------------------------------------\x0a################################################################\x0a'+FileName+_0x38e295(0x2ca)+_0x59dcbb+_0x38e295(0x1e1)+_0x269bd2+_0x38e295(0x1b6)+_0x474ed6+_0x38e295(0x26f)+fakeUserID+_0x38e295(0x22e)+_0x338439+'\x0a'+_0x3eb3ed+'\x0a---------------------------------------------------------------\x0a################################################################\x0av2ray\x0a---------------------------------------------------------------\x0a'+_0xd7dc37+'\x0a---------------------------------------------------------------\x0a################################################################\x0aclash-meta\x0a---------------------------------------------------------------\x0a'+_0x481b6a+_0x38e295(0x2ed);}else{if(typeof fetch!=_0x38e295(0x23a))return _0x38e295(0x242);let _0x353b07=[],_0x55056f=[],_0x8cd704=[],_0x1f5456=[];if(_0x269bd2[_0x38e295(0x1b5)]('.workers.dev'))noTLS=_0x38e295(0x1f4),fakeHostName=fakeHostName+_0x38e295(0x23f),_0x8cd704=await getAddressesapi(addressesnotlsapi),_0x1f5456=await getAddressescsv(_0x38e295(0x272));else{if(_0x269bd2[_0x38e295(0x1b5)]('.pages.dev'))fakeHostName=fakeHostName+'.pages.dev';else _0x269bd2[_0x38e295(0x1b5)]('worker')||_0x269bd2[_0x38e295(0x1b5)](_0x38e295(0x2ec))||noTLS==_0x38e295(0x1f4)?(noTLS=_0x38e295(0x1f4),fakeHostName=_0x38e295(0x2ec)+fakeHostName+_0x38e295(0x1cb),_0x8cd704=await getAddressesapi(addressesnotlsapi),_0x1f5456=await getAddressescsv(_0x38e295(0x272))):fakeHostName=fakeHostName+'.xyz';}console['log'](_0x38e295(0x2ef)+fakeHostName);let _0x2a130a=subProtocol+'://'+_0x3735c1+_0x38e295(0x20d)+fakeHostName+'&uuid='+fakeUserID+_0x38e295(0x218)+_0x517d76,_0xbd195f=!![];if(!_0x3735c1||_0x3735c1==''){if(_0x269bd2[_0x38e295(0x1b5)](_0x38e295(0x2b0))||_0x269bd2[_0x38e295(0x1b5)](_0x38e295(0x2c2))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x38e295(0x2be)]==0x0))try{const _0xd94496=await fetch(proxyhostsURL);if(!_0xd94496['ok']){console[_0x38e295(0x240)](_0x38e295(0x1b7),_0xd94496[_0x38e295(0x1c7)],_0xd94496[_0x38e295(0x2e4)]);return;}const _0x4518cb=await _0xd94496['text'](),_0x3a67d1=_0x4518cb['split']('\x0a'),_0x38a54d=_0x3a67d1[_0x38e295(0x204)](_0x3b6cd3=>_0x3b6cd3[_0x38e295(0x230)]()!=='');proxyhosts=proxyhosts[_0x38e295(0x2aa)](_0x38a54d);}catch(_0x436446){console[_0x38e295(0x240)](_0x38e295(0x1b7),_0x436446);}proxyhosts=[...new Set(proxyhosts)];}_0x353b07=await getAddressesapi(addressesapi),_0x55056f=await getAddressescsv(_0x38e295(0x275)),_0x2a130a=_0x38e295(0x2b5)+_0x269bd2+'/'+fakeUserID;if(_0x269bd2[_0x38e295(0x1b5)](_0x38e295(0x2c8))||_0x269bd2[_0x38e295(0x1b5)]('notls')||noTLS==_0x38e295(0x1f4))_0x2a130a+=_0x38e295(0x1d9);console[_0x38e295(0x203)](_0x38e295(0x2bd)+_0x2a130a);}if(!_0x31b918[_0x38e295(0x1b5)]('CF-Workers-SUB'[_0x38e295(0x268)]())){if(_0x31b918['includes'](_0x38e295(0x2a3))&&!_0x31b918['includes'](_0x38e295(0x2a9))||_0x4ed80f[_0x38e295(0x1b8)][_0x38e295(0x29b)](_0x38e295(0x2a3))&&!_0x31b918[_0x38e295(0x1b5)]('subconverter'))_0x2a130a=subProtocol+'://'+subconverter+_0x38e295(0x279)+encodeURIComponent(_0x2a130a)+_0x38e295(0x2de)+encodeURIComponent(subconfig)+_0x38e295(0x262),_0xbd195f=![];else(_0x31b918[_0x38e295(0x1b5)](_0x38e295(0x28b))||_0x31b918[_0x38e295(0x1b5)]('singbox')||(_0x4ed80f[_0x38e295(0x1b8)][_0x38e295(0x29b)]('singbox')||_0x4ed80f[_0x38e295(0x1b8)]['has']('sb'))&&!_0x31b918[_0x38e295(0x1b5)]('subconverter'))&&(_0x2a130a=subProtocol+_0x38e295(0x26a)+subconverter+_0x38e295(0x228)+encodeURIComponent(_0x2a130a)+_0x38e295(0x2de)+encodeURIComponent(subconfig)+_0x38e295(0x262),_0xbd195f=![]);}try{let _0x3dfac5;if((!_0x3735c1||_0x3735c1=='')&&_0xbd195f==!![])_0x3dfac5=await subAddresses(fakeHostName,fakeUserID,noTLS,_0x353b07,_0x55056f,_0x8cd704,_0x1f5456);else{const _0x319ea1=await fetch(_0x2a130a,{'headers':{'User-Agent':_0x338439+_0x38e295(0x200)}});_0x3dfac5=await _0x319ea1[_0x38e295(0x1ec)]();}if(_0x4ed80f['pathname']=='/'+fakeUserID)return _0x3dfac5;return revertFakeInfo(_0x3dfac5,_0x474ed6,_0x269bd2,_0xbd195f);}catch(_0x5d7432){return console[_0x38e295(0x240)](_0x38e295(0x2e2),_0x5d7432),_0x38e295(0x292)+_0x5d7432['message'];}}}async function getAccountId(_0x12cc8b,_0x3faf58){const _0x1bbdc2=_0xfd60e3;try{const _0x57b571='https://api.cloudflare.com/client/v4/accounts',_0x4e2ccd=new Headers({'X-AUTH-EMAIL':_0x12cc8b,'X-AUTH-KEY':_0x3faf58}),_0x5b5abe=await fetch(_0x57b571,{'headers':_0x4e2ccd}),_0x56747a=await _0x5b5abe[_0x1bbdc2(0x273)]();return _0x56747a[_0x1bbdc2(0x290)][0x0]['id'];}catch(_0x180506){return![];}}async function getSum(_0x553cfe,_0x5022ce,_0x40c626,_0x20a286,_0x45e18c,_0x4c8dc2){const _0x539dfd=_0xfd60e3;try{const _0x136143=new Date(_0x45e18c)['toISOString'](),_0x4e7424=new Date(_0x4c8dc2)['toISOString'](),_0x5a5e23=JSON[_0x539dfd(0x210)]({'query':'query\x20getBillingMetrics($accountId:\x20String!,\x20$filter:\x20AccountWorkersInvocationsAdaptiveFilter_InputObject)\x20{\x0a\x09\x09\x09\x09viewer\x20{\x0a\x09\x09\x09\x09\x09accounts(filter:\x20{accountTag:\x20$accountId})\x20{\x0a\x09\x09\x09\x09\x09\x09pagesFunctionsInvocationsAdaptiveGroups(limit:\x201000,\x20filter:\x20$filter)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09sum\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09requests\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09workersInvocationsAdaptive(limit:\x2010000,\x20filter:\x20$filter)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09sum\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09requests\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}','variables':{'accountId':_0x553cfe,'filter':{'datetime_geq':_0x136143,'datetime_leq':_0x4e7424}}}),_0x34afc3=new Headers({'Content-Type':_0x539dfd(0x227),'X-AUTH-EMAIL':_0x40c626,'X-AUTH-KEY':_0x20a286}),_0x2fb89b=await fetch(_0x539dfd(0x2b2),{'method':_0x539dfd(0x1b4),'headers':_0x34afc3,'body':_0x5a5e23});if(!_0x2fb89b['ok'])throw new Error(_0x539dfd(0x24c)+_0x2fb89b[_0x539dfd(0x1c7)]);const _0x274c29=await _0x2fb89b[_0x539dfd(0x273)](),_0x5b82d5=_0x274c29?.[_0x539dfd(0x237)]?.[_0x539dfd(0x2ba)]?.[_0x539dfd(0x1eb)]?.[_0x5022ce]?.[_0x539dfd(0x2e5)],_0x383ea1=_0x274c29?.[_0x539dfd(0x237)]?.[_0x539dfd(0x2ba)]?.[_0x539dfd(0x1eb)]?.[_0x5022ce]?.[_0x539dfd(0x1cc)];if(!_0x5b82d5&&!_0x383ea1)throw new Error(_0x539dfd(0x2d2));const _0x330014=_0x5b82d5[_0x539dfd(0x296)]((_0xafe44f,_0x24f7d4)=>_0xafe44f+_0x24f7d4?.[_0x539dfd(0x1e0)][_0x539dfd(0x26c)],0x0),_0x37855a=_0x383ea1['reduce']((_0x36e09a,_0x52bc8a)=>_0x36e09a+_0x52bc8a?.[_0x539dfd(0x1e0)][_0x539dfd(0x26c)],0x0);return[_0x330014,_0x37855a];}catch(_0x869b89){return[0x0,0x0];}}let proxyIPPool=[];async function getAddressesapi(_0x5ed073){const _0x4c467d=_0xfd60e3;if(!_0x5ed073||_0x5ed073[_0x4c467d(0x2be)]===0x0)return[];let _0x5e4b4f='';const _0x43a266=new AbortController(),_0x9bc48a=setTimeout(()=>{_0x43a266['abort']();},0x7d0);try{const _0x1d5248=await Promise[_0x4c467d(0x2f6)](_0x5ed073['map'](_0x4c2259=>fetch(_0x4c2259,{'method':_0x4c467d(0x2f2),'headers':{'Accept':'text/html,application/xhtml+xml,application/xml;','User-Agent':_0x4c467d(0x271)},'signal':_0x43a266[_0x4c467d(0x25a)]})[_0x4c467d(0x202)](_0x3ebb6c=>_0x3ebb6c['ok']?_0x3ebb6c[_0x4c467d(0x1ec)]():Promise['reject']())));for(const [_0x13cbd0,_0x36b836]of _0x1d5248[_0x4c467d(0x2ab)]()){if(_0x36b836[_0x4c467d(0x1c7)]===_0x4c467d(0x20a)){const _0x554b84=await _0x36b836[_0x4c467d(0x2e1)];_0x5ed073[_0x13cbd0][_0x4c467d(0x1b5)](_0x4c467d(0x2bc))&&(proxyIPPool=proxyIPPool[_0x4c467d(0x2aa)]((await ADD(_0x554b84))[_0x4c467d(0x293)](_0x4d9b7a=>{const _0x458249=_0x4c467d,_0x15b367=_0x4d9b7a['split']('#')[0x0]||_0x4d9b7a;if(_0x15b367[_0x458249(0x1b5)](':')){const _0x171201=_0x15b367['split'](':')[0x1];if(!httpsPorts['includes'](_0x171201))return _0x15b367;}else return _0x15b367+_0x458249(0x28a);return null;})[_0x4c467d(0x204)](Boolean))),_0x5e4b4f+=_0x554b84+'\x0a';}}}catch(_0x5c6915){console[_0x4c467d(0x240)](_0x5c6915);}finally{clearTimeout(_0x9bc48a);}const _0x21c60b=await ADD(_0x5e4b4f);return _0x21c60b;}async function getAddressescsv(_0x4dc6a1){const _0x26cf81=_0xfd60e3;if(!addressescsv||addressescsv[_0x26cf81(0x2be)]===0x0)return[];let _0x432c72=[];for(const _0x492f8f of addressescsv){try{const _0x20af5e=await fetch(_0x492f8f);if(!_0x20af5e['ok']){console['error']('获取CSV地址时出错:',_0x20af5e[_0x26cf81(0x1c7)],_0x20af5e['statusText']);continue;}const _0x9361cc=await _0x20af5e[_0x26cf81(0x1ec)]();let _0x470117;_0x9361cc[_0x26cf81(0x1b5)]('\x0d\x0a')?_0x470117=_0x9361cc[_0x26cf81(0x276)]('\x0d\x0a'):_0x470117=_0x9361cc[_0x26cf81(0x276)]('\x0a');const _0xa9ff56=_0x470117[0x0][_0x26cf81(0x276)](','),_0x44f605=_0xa9ff56[_0x26cf81(0x1dd)](_0x26cf81(0x241)),_0x5659c4=0x0,_0x580dd9=0x1,_0x23445a=_0x44f605+0x1;if(_0x44f605===-0x1){console[_0x26cf81(0x240)]('CSV文件缺少必需的字段');continue;}for(let _0x2d8c46=0x1;_0x2d8c46<_0x470117[_0x26cf81(0x2be)];_0x2d8c46++){const _0x45d397=_0x470117[_0x2d8c46]['split'](','),_0x2459d4=_0x45d397[_0x26cf81(0x2be)]-0x1;if(_0x45d397[_0x44f605][_0x26cf81(0x2c3)]()===_0x4dc6a1&&parseFloat(_0x45d397[_0x2459d4])>DLS){const _0x81e1d3=_0x45d397[_0x5659c4],_0x493633=_0x45d397[_0x580dd9],_0x554a20=_0x45d397[_0x23445a],_0x299644=_0x81e1d3+':'+_0x493633+'#'+_0x554a20;_0x432c72[_0x26cf81(0x1f7)](_0x299644),_0x492f8f['includes']('proxyip=true')&&_0x45d397[_0x44f605][_0x26cf81(0x2c3)]()==_0x26cf81(0x1f4)&&!httpsPorts[_0x26cf81(0x1b5)](_0x493633)&&proxyIPPool[_0x26cf81(0x1f7)](_0x81e1d3+':'+_0x493633);}}}catch(_0x29167a){console[_0x26cf81(0x240)](_0x26cf81(0x211),_0x29167a);continue;}}return _0x432c72;}function subAddresses(_0x1c1165,_0x4e03aa,_0x51d711,_0x2779f7,_0x370b4a,_0x2b3864,_0x4c08d8){const _0x458f97=_0xfd60e3,_0x251808=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses['concat'](_0x2779f7),addresses=addresses['concat'](_0x370b4a);let _0x266c2e;if(_0x51d711=='true'){addressesnotls=addressesnotls[_0x458f97(0x2aa)](_0x2b3864),addressesnotls=addressesnotls[_0x458f97(0x2aa)](_0x4c08d8);const _0x279abc=[...new Set(addressesnotls)];_0x266c2e=_0x279abc[_0x458f97(0x293)](_0x273e95=>{const _0xd038c7=_0x458f97;let _0x5145d0='-1',_0x247955=_0x273e95;const _0x113d80=_0x247955[_0xd038c7(0x1df)](_0x251808);if(!_0x113d80){if(_0x273e95[_0xd038c7(0x1b5)](':')&&_0x273e95[_0xd038c7(0x1b5)]('#')){const _0x3d12a9=_0x273e95[_0xd038c7(0x276)](':');_0x273e95=_0x3d12a9[0x0];const _0xcdb890=_0x3d12a9[0x1][_0xd038c7(0x276)]('#');_0x5145d0=_0xcdb890[0x0],_0x247955=_0xcdb890[0x1];}else{if(_0x273e95[_0xd038c7(0x1b5)](':')){const _0x2aa947=_0x273e95['split'](':');_0x273e95=_0x2aa947[0x0],_0x5145d0=_0x2aa947[0x1];}else{if(_0x273e95[_0xd038c7(0x1b5)]('#')){const _0x3ef5ea=_0x273e95['split']('#');_0x273e95=_0x3ef5ea[0x0],_0x247955=_0x3ef5ea[0x1];}}}_0x247955['includes'](':')&&(_0x247955=_0x247955[_0xd038c7(0x276)](':')[0x0]);}else _0x273e95=_0x113d80[0x1],_0x5145d0=_0x113d80[0x2]||_0x5145d0,_0x247955=_0x113d80[0x3]||_0x273e95;const _0x48a9d3=[_0xd038c7(0x24f),'8880',_0xd038c7(0x274),_0xd038c7(0x1b3),'2086',_0xd038c7(0x2cc)];if(!isValidIPv4(_0x273e95)&&_0x5145d0=='-1')for(let _0x35a795 of _0x48a9d3){if(_0x273e95[_0xd038c7(0x1b5)](_0x35a795)){_0x5145d0=_0x35a795;break;}}if(_0x5145d0=='-1')_0x5145d0='80';let _0x2dc2a3=_0x1c1165,_0x367d85=_0xd038c7(0x1e6),_0x39e7cb='';const _0x456477=atob(啥啥啥_写的这是啥啊),_0x2d9568=_0x456477+'://'+_0x4e03aa+'@'+_0x273e95+':'+_0x5145d0+_0xd038c7(0x2f5)+_0x2dc2a3+_0xd038c7(0x1db)+encodeURIComponent(_0x367d85)+'#'+encodeURIComponent(_0x247955+_0x39e7cb);return _0x2d9568;})[_0x458f97(0x24d)]('\x0a');}const _0x15be0a=[...new Set(addresses)],_0x36a22d=_0x15be0a[_0x458f97(0x293)](_0x583276=>{const _0x3f7766=_0x458f97;let _0x35dc11='-1',_0x27bf10=_0x583276;const _0x33a0d8=_0x27bf10[_0x3f7766(0x1df)](_0x251808);if(!_0x33a0d8){if(_0x583276[_0x3f7766(0x1b5)](':')&&_0x583276[_0x3f7766(0x1b5)]('#')){const _0x5ed844=_0x583276['split'](':');_0x583276=_0x5ed844[0x0];const _0x2e020c=_0x5ed844[0x1][_0x3f7766(0x276)]('#');_0x35dc11=_0x2e020c[0x0],_0x27bf10=_0x2e020c[0x1];}else{if(_0x583276['includes'](':')){const _0x465fe0=_0x583276[_0x3f7766(0x276)](':');_0x583276=_0x465fe0[0x0],_0x35dc11=_0x465fe0[0x1];}else{if(_0x583276[_0x3f7766(0x1b5)]('#')){const _0x5da6e4=_0x583276[_0x3f7766(0x276)]('#');_0x583276=_0x5da6e4[0x0],_0x27bf10=_0x5da6e4[0x1];}}}_0x27bf10[_0x3f7766(0x1b5)](':')&&(_0x27bf10=_0x27bf10['split'](':')[0x0]);}else _0x583276=_0x33a0d8[0x1],_0x35dc11=_0x33a0d8[0x2]||_0x35dc11,_0x27bf10=_0x33a0d8[0x3]||_0x583276;if(!isValidIPv4(_0x583276)&&_0x35dc11=='-1')for(let _0x239178 of httpsPorts){if(_0x583276[_0x3f7766(0x1b5)](_0x239178)){_0x35dc11=_0x239178;break;}}if(_0x35dc11=='-1')_0x35dc11=_0x3f7766(0x247);let _0x405335=_0x1c1165,_0xaf3f69='/?ed=2560',_0x149be9='';const _0x1fe6d1=proxyIPPool[_0x3f7766(0x257)](_0x4492f0=>_0x4492f0[_0x3f7766(0x1b5)](_0x583276));if(_0x1fe6d1)_0xaf3f69+='&proxyip='+_0x1fe6d1;proxyhosts[_0x3f7766(0x2be)]>0x0&&(_0x405335[_0x3f7766(0x1b5)]('.workers.dev')||_0x405335['includes'](_0x3f7766(0x2c2)))&&(_0xaf3f69='/'+_0x405335+_0xaf3f69,_0x405335=proxyhosts[Math[_0x3f7766(0x235)](Math['random']()*proxyhosts['length'])],_0x149be9='\x20已启用临时域名中转服务，请尽快绑定自定义域！');const _0x34ada5=atob(啥啥啥_写的这是啥啊),_0x538732=_0x34ada5+'://'+_0x4e03aa+'@'+_0x583276+':'+_0x35dc11+_0x3f7766(0x1d3)+_0x405335+_0x3f7766(0x1cf)+_0x405335+_0x3f7766(0x1db)+encodeURIComponent(_0xaf3f69)+'#'+encodeURIComponent(_0x27bf10+_0x149be9);return _0x538732;})[_0x458f97(0x24d)]('\x0a');let _0x1fab5b=_0x36a22d;if(_0x51d711=='true')_0x1fab5b+='\x0a'+_0x266c2e;return btoa(_0x1fab5b);}async function sendMessage(_0x7b8a07,_0x246425,_0x2d4cbc=''){const _0x1428f0=_0xfd60e3;if(BotToken!==''&&ChatID!==''){let _0x4638a5='';const _0x3823b6=await fetch('http://ip-api.com/json/'+_0x246425+_0x1428f0(0x2b1));if(_0x3823b6[_0x1428f0(0x1c7)]==0xc8){const _0x511614=await _0x3823b6[_0x1428f0(0x273)]();_0x4638a5=_0x7b8a07+_0x1428f0(0x1fd)+_0x246425+_0x1428f0(0x2d8)+_0x511614['country']+_0x1428f0(0x2bb)+_0x511614[_0x1428f0(0x2f9)]+_0x1428f0(0x269)+_0x511614['org']+_0x1428f0(0x2f4)+_0x511614['as']+'\x0a'+_0x2d4cbc;}else _0x4638a5=_0x7b8a07+_0x1428f0(0x1fd)+_0x246425+'\x0a<tg-spoiler>'+_0x2d4cbc;let _0x1af4ae=_0x1428f0(0x261)+BotToken+_0x1428f0(0x2cd)+ChatID+_0x1428f0(0x280)+encodeURIComponent(_0x4638a5);return fetch(_0x1af4ae,{'method':_0x1428f0(0x2f2),'headers':{'Accept':'text/html,application/xhtml+xml,application/xml;','Accept-Encoding':_0x1428f0(0x208),'User-Agent':_0x1428f0(0x1f0)}});}}function isValidIPv4(_0x4ca132){const _0x1aa986=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x1aa986['test'](_0x4ca132);}function _0x524c(_0xd74e0,_0x198185){const _0x2acff3=_0x2acf();return _0x524c=function(_0x524c7e,_0x3610a2){_0x524c7e=_0x524c7e-0x1b3;let _0x12b1f0=_0x2acff3[_0x524c7e];return _0x12b1f0;},_0x524c(_0xd74e0,_0x198185);}function generateDynamicUUID(_0xbb1a6){const _0x545692=_0xfd60e3;function _0x5c793f(){const _0x285fa5=new Date(),_0x2d383e=0x8,_0xcd4559=new Date(_0x285fa5['getTime']()+_0x2d383e*0x3c*0x3c*0x3e8),_0x276507=new Date(0x7d7,0x6,0x7,updateTime,0x0,0x0),_0x2d8e63=_0xcd4559-_0x276507,_0x5ddc51=0x3e8*0x3c*0x3c*0x18*effectiveTime;return Math['ceil'](_0x2d8e63/_0x5ddc51);}const _0x227724=_0x5c793f(),_0x3faab9=new Date(0x7d7,0x6,0x7,updateTime,0x0,0x0);_0x3faab9[_0x545692(0x1c2)](_0x3faab9[_0x545692(0x28d)]()+_0x227724*0x3e8*0x3c*0x3c*0x18*effectiveTime);function _0x40721c(_0x175563){const _0x28daf9=_0x545692,_0x4bef69=new TextEncoder()[_0x28daf9(0x246)](_0x175563);return crypto[_0x28daf9(0x1fe)][_0x28daf9(0x233)](_0x28daf9(0x21c),_0x4bef69)[_0x28daf9(0x202)](_0x4b2a60=>{const _0x17a412=_0x28daf9,_0x4b7590=Array[_0x17a412(0x2ae)](new Uint8Array(_0x4b2a60)),_0x2a32a0=_0x4b7590['map'](_0x339e04=>_0x339e04[_0x17a412(0x2a6)](0x10)['padStart'](0x2,'0'))[_0x17a412(0x24d)]('');let _0xf70bc4=_0x2a32a0['substr'](0x0,0x8)+'-'+_0x2a32a0[_0x17a412(0x1c9)](0x8,0x4)+'-4'+_0x2a32a0[_0x17a412(0x1c9)](0xd,0x3)+'-'+(parseInt(_0x2a32a0[_0x17a412(0x1c9)](0x10,0x2),0x10)&0x3f|0x80)[_0x17a412(0x2a6)](0x10)+_0x2a32a0[_0x17a412(0x1c9)](0x12,0x2)+'-'+_0x2a32a0[_0x17a412(0x1c9)](0x14,0xc);return _0xf70bc4;});}const _0x1a5b72=_0x40721c(_0xbb1a6+_0x227724),_0x45ad86=_0x40721c(_0xbb1a6+(_0x227724-0x1)),_0x267959=new Date(_0x3faab9[_0x545692(0x220)]()-0x8*0x3c*0x3c*0x3e8),_0x3106b7='到期时间(UTC):\x20'+_0x267959['toISOString']()[_0x545692(0x243)](0x0,0x13)['replace']('T','\x20')+_0x545692(0x287)+_0x3faab9[_0x545692(0x2c7)]()[_0x545692(0x243)](0x0,0x13)[_0x545692(0x22c)]('T','\x20')+'\x0a';return Promise[_0x545692(0x1dc)]([_0x1a5b72,_0x45ad86,_0x3106b7]);}
